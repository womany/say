task :lhh_covers do
  require "mini_magick"

  list = [
    [12, "七招讓他愛上妳的手"],
    [17, "女人讓自己更容易高潮的小方法"],
    [18, "女人，要學會享受自己的高潮"],
    [19, "用心靈力量，達到高潮"],
    [20, "五種讓你更激情的食物"],
    [23, "女人的小遊戲機"],
    [24, "情趣用品的第一堂課"],
    [27, "關於「高潮」的幾個問題"],
    [28, "讓臉紅小編告訴妳！如何到達混合式高潮"],
    [29, "情趣用品新手六步驟"],
    [30, "如何挑逗女人的兩大重點"],
    [35, "讓性事更美滿的五個方法"],
    [39, "「G 點」究竟是什麼？"],
    [40, "四個技巧，喚醒 G 點"],
    [43, "關於潮吹的祕密"],
    [44, "只是做個愛，不行嗎？"],
    [45, "青春無敵女人心"],
    [46, "把握三個時間，撩撥女人的性慾，讓她更想要"],
    [47, "當你遇到喜歡女人的女人，有些問題不必問"],
    [57, "我知道我有點小心眼"],
    [58, "所有完美的不完美"],
    [59, "耍狠還是要相愛"],
    [60, "愛裡，沒有懼怕"],
    [61, "女人的高潮需要練習"],
    [64, "就是兩個人"],
    [65, "我就是你的自由"],
    [68, "沒有過夜的一夜情"],
    [69, "淫聲浪語讓我更愛你"],
    [70, "乳房愛撫技巧大公開"],
    [72, "愛為什麼這麼痛？"],
    [73, "不是為了要分開"],
    [75, "十個步驟簡單電愛"],
    [76, "想要被她好好咬"],
    [78, "手要早點伸過去"],
    [79, "一起看 A 片，更享受"],
    [81, "面對愛和性，我只對自己忠誠"],
    [82, "裸睡也是種前戲"],
    [84, "七個方法，讓兩人更加激情四射"],
    [89, "相信愛情"],
    [90, "情慾創作：無疆"],
    [91, "女孩們，你認識自己的陰道嗎？"],
    [93, "當一切都剛剛好"],
    [94, "用枕頭來做凱格爾運動"],
    [96, "三個方法，簡單成為誘人又主動的女人"],
    [97, "成為調情聖手的八大決定因素"],
    [98, "請和男朋友大膽認真的討論性愛吧！"],
    [100, "另外一半的世界"],
    [102, "無法呼吸1：洶湧之第一次約會"],
    [103, "無法呼吸1：洶湧之我想要你"],
    [104, "無法呼吸1：洶湧之激情時刻"],
    [105, "女人的身體是很奇妙的"],
    [107, "愛情，不證自明"],
    [109, "七個讓男人對妳朝思暮想的重點"],
    [113, "親愛的，讓我們再多興奮一點點"],
    [114, "愛情不是選擇題"],
    [117, "我都還想念她過份好看得身體線條"],
    [120, "深夜高潮公車"],
    [121, "無法呼吸2：炙熱之 3P 邀請"],
    [122, "性，是唯一的方式讓我體會愛"],
    [123, "你是我，無比完美的鬧鈴"],
    [124, "性愛最美好的，是我以身問路"],
    [125, "用嘴送上，愛的生日之禮"],
    [126, "屬於我們的，私慾電影院"],
    [127, "快閃性愛表演藝術者"],
    [128, "他總知道，我的什麼地方在等他"],
    [129, "離婚後，她擁有第一次高潮"],
    [130, "這一次，男友送上最火辣的生日禮物"],
    [131, "今晚，我是你的遙控女孩"],
    [132, "情慾男女系列：髮（女之章）"],
    [133, "情慾男女系列：髮（男之章）"],
    [137, "春心蕩漾，從吃對早餐開始"],
    [138, "可不可以不要怕"],
    [139, "我們做愛，但不愛"],
    [141, "命中註定，眾星拱月"],
    [142, "命中註定，綠帽罩頂"],
    [143, "命中註定，情慾大亂鬥"],
    [144, "春心蕩漾，從吃對午餐開始"],
    [146, "萬元懸賞，情慾作家募集大賽"],
    [147, "她每天晚上都喊著不同的名字"],
    [148, "我想進入妳，聽見妳口中發出的呻吟"],
    [149, "春心蕩漾，從吃對晚餐開始"],
    [151, "親愛的，你的惡作劇如此煽情"],
    [152, "《騷動：改造灰姑娘》之情不自禁"],
    [154, "Hello Ex"],
    [156, "一場甜美如夢的早晨性愛"],
    [157, "Ex，很鳥"],
    [158, "性感的揶揄：輕熟女和一夜情"],
    [159, "今晚，我專屬於你"],
    [160, "《騷動：改造灰姑娘》之無法忘懷"],
    [161, "她像隻無法捉摸的柴郡貓"],
    [166, "矇眼性愛之夜"],
    [167, "她總是感覺到飢餓"],
    [168, "罪與罰"],
    [169, "媽，我們現在正在忙"],
    [170, "遠距離，讓我用聲音進入妳"],
    [171, "騷動的晦暗巷弄"],
    [172, "她的舌頭有許多女孩的味道，她是小蕾"],
    [173, "女人不願蛇蠍，但男人總愛酖毒"],
    [174, "與 Ex 的激情鏡愛"],
    [176, "情慾掮客"],
    [177, "人妻的夢幻情慾 APP 體驗"],
    [178, "唇印，印在心口上"],
    [181, "我的體內，藏著一隻蝴蝶"],
    [182, "每場性愛，都是獨一無二的"],
    [183, "辦公室那場，令人無法自拔的禁忌性愛"],
    [185, "淺嚐，初夏的滋味"],
    [186, "成為妳的內臟"],
    [187, "用慾望填滿想你的寂寞"],
    [188, "做愛後，動物感傷。"],
    [189, "要張還是不要張，腿？！"],
    [191, "九歲女孩的快感初體驗"],
    [194, "【Lesbian Talk】愛情其實都一樣"],
    [195, "春心蕩漾，從吃對宵夜開始"],
    [198, "女人都好想擁有大胸部？"],
    [201, "《祕密I：解放》之寫下妳的慾望"],
    [202, "要做還是不要做，愛？！"],
    [203, "妳是跨性別者還是同性戀者？"],
    [205, "命中註定，他是偷情郎"],
    [206, "今晚 Ex 是我的主人"],
    [207, "《祕密I：解放》之按摩初體驗"],
    [208, "男人的 A 片告解室"],
    [209, "可以走出妳的衣櫥了吧！"],
    [210, "要吃還是不要吃，西餐？！"],
    [211, "與前男友的激情電愛"],
    [212, "親愛的，你懂不懂？"],
    [213, "男人怎麼看小三？"],
    [214, "五個培養激情的約會地點"],
    [215, "與大明星的秘密激情"],
    [216, "14 個關於乳房的有趣事實"],
    [217, "命中註定，一見鍾情「煞」到你"],
    [219, "要射還是不要射，__？！"],
    [220, "《祕密I：解放》之第一次高潮"],
    [222, "與 Ex 在泳池邊的火辣激情"],
    [223, "男人秘密健身房"],
    [224, "靜下心，就能見到最想見的人"],
    [225, "六個讓女人沒「性」趣的小事"],
    [229, "【深淵】序章．深淵之肆"],
    [230, "情慾文學：激情狂歡 KTV"],
    [231, "愛愛別急躁！為彼此留點白"],
    [233, "命中註定，情冷感、性冷感"],
    [235, "出軌"],
    [236, "別再相信 A 片！即使潮吹也不等於舒服的快感"],
    [237, "男人不想說的三個最屌煩惱"],
    [238, "【深淵】序章．第壹回"],
    [240, "情慾文學：黑暗激情"],
    [241, "高潮是什麼？女人大聲說"],
    [242, "妳是我的早餐"],
    [245, "男人不戴保險套的五個常見藉口"],
    [247, "命中註定，被忽視、被跳過"],
    [248, "在床上發生這「六件事」真的不奇怪！"],
    [251, "40 歲後更好愛的六個方法"],
    [252, "週末夜晚的肉食男女"],
    [255, "【深淵】序章．第貳回"],
    [256, "要當還是不要當，小三？！"],
    [258, "不想停下來的接吻九招"],
    [260, "情慾文學：欲擒故縱的愛"],
    [262, "【每日新奇】別鬧了！真實性愛跟 A 片情結不一樣"],
    [263, "六位當紅好萊塢女星給妳的性愛建議"],
    [265, "增進情趣的按摩心機四技巧"],
    [267, "讓你們更激情的八個性愛挑戰"],
    [268, "男人的摩鐵初體驗"],
    [269, "性學專家推薦的三個激情秘技"],
    [270, "讓男人叫床的七個口交技巧"],
    [272, "【深淵】序章．第參回"],
    [275, "你一定要學會的保險套戴法"],
    [279, "要分還是不要分，手？！"],
    [282, "六個勾起性慾的秘密部位"],
    [284, "讓情人節更火辣激情的五感秘技"],
    [285, "十個關於性愛的有趣事實"],
    [288, "命中註定，一輩子當砲友"],
    [291, "情慾文學：失控情人節"],
    [292, "令他意猶未盡的舌吻基本教戰"],
    [293, "不能忽視的男人乳頭愛撫法"],
    [294, "【深淵】第壹章．深淵之陸"],
    [295, "讀者分享：LELO 蒂魔陰蒂按摩器的自慰體驗"],
    [297, "第一次親密接觸，兩隻指頭的練習"],
    [305, "當個「不乖」的女人讓性愛更美好！"],
    [306, "【深淵】第壹章．第壹回"],
    [309, "男上位：經典傳教士"],
    [310, "情慾文學：情人節狂歡夜"],
    [313, "情慾文學：師生禁戀"],
    [314, "和好朋友上床的 3 個好處和 3 個壞處"],
    [315, "情慾文學：我只是想要滿足自己的慾望"],
    [318, "女人的性能量製造廠：背部"],
    [322, "情慾文學：激戰情人夜"],
    [325, "誰來決定愛愛的進入時間點？"],
    [326, "性愛挑戰：五種戴保險套的另類方法"],
    [327, "【深淵】第壹章．第貳回"],
    [331, "其實，男人也想慢慢來"],
    [335, "【深淵】第壹章．第參回"],
    [336, "小說連載：消失的前男友"],
    [344, "令女人意猶未盡的四個挑逗秘技"],
    [347, "【深淵】第壹章．第肆回"],
    [348, "用冥想為自己創造高潮的四個步驟"],
    [354, "小說連載：正宮與小三的談判"],
    [365, "【深淵】第壹章．第伍回"],
    [367, "八個關於高潮的有趣事實"],
    [369, "命中註定，一輩子睡別人老公"],
    [386, "【深淵】第貳章．奈央的春天之參"],
    [396, "小說連載：小三與正宮的正面交戰"],
    [397, "男人的「性愛分離論」其實是種性幻想"],
    [398, "女人快要高潮時的九個動作徵兆"],
    [404, "浪子最愛不是上床而是牽手、擁抱和接吻？"],
    [420, "【深淵】第貳章．第貳回"],
    [435, "害怕失去的性"],
    [436, "私密萬聖節派對情趣四招"],
    [441, "愚蠢的性"],
    [450, "令她無法抵擋的情趣用品初體驗"],
    [470, "【深淵】第貳章．第伍回"],
    [475, "性愛知識家：妳也是假高潮一族嗎？"],
    [480, "六個方法讓他在約會時慾火焚身"],
    [484, "導致性慾降低的五種食物"],
    [492, "女生看 A 片，妳會學到的五件事"],
    [497, "八個小事，在同居前妳一定要知道"],
    [508, "【深淵】第參章．深淵之捌"],
    [525, "讓他必定求饒的四招嘴上功夫"],
    [526, "用你的雙手，輕易地讓她臣服於你"],
    [527, "「裸睡」好處多多的五個重點"],
    [535, "在床上的七個黃金時刻，讓愛愛更激情"],
    [545, "同志情慾電影『湖畔春光』一窺同志生活裡的種種處境"],
    [552, "情慾電影：『性愛成癮的女人』一探女人的性愛旅程"],
    [575, "法國電影【美麗．誘惑】一探青少年的情慾誘惑"],
    [590, "75% 的人說，另一半出軌後就無法再愛！"],
    [599, "三個步驟，找到屬於妳自己的敏感帶！"],
    [600, "2013 年，關於性愛不為人知的十個統計"],
    [601, "2014 年，臉紅紅性愛生活調查！"],
    [624, "女人真心話：為什麼偶而我會假裝高潮？"],
    [639, "情慾文學：牛角下的情慾之一"],
    [643, "【Endless Love】無盡的愛 愛情能超越世俗眼光嗎？"],
    [649, "情慾文學：牛角下的情慾之二"],
    [651, "情慾文學：牛角下的情慾之三"],
    [661, "我是女生，她是女生"],
    [667, "超過千名女性親身體驗，關於高潮的點滴快感"],
    [675, "【深淵】第參章．第參回"],
    [686, "男人特別喜歡在情人節做愛？三個你不知道的有趣情人節調查報告"],
    [687, "六千名網友的真實告白！92% 台灣女人贊成婚前性行為"],
    [689, "臉紅紅獨家揭露：台灣女人五大性愛生活關鍵報告--85% 的女人享受自慰快感"],
    [690, "跟砲友做愛更安全？擁有砲友的 5 個好處"],
    [691, "從早到晚都火辣的情人節約會三部曲"],
    [701, "【性愛成癮的女人】超越尺度一睹好萊塢明星高潮畫面"],
    [710, "如果非得跳入火坑 分手砲的 5 個建議"],
    [717, "慾火壓不住？分辨是否有性愛成癮症的 20 個徵兆"],
    [718, "就是喜歡打野戰！挑戰戶外性愛時必知的五件事"],
    [722, "臉紅知識家：古代千奇百怪避孕妙招"],
    [727, "於是他撿了隻流浪貓"],
    [734, "八成五女性認為自己來更享受的七個理由"],
    [735, "關於高潮，你不得不知的 9 個常識"],
    [737, "【深淵】第參章．第肆回"],
    [747, "那一年，偷嚐禁果的我們"],
    [790, "粗細長短都高潮的四個性愛姿勢"],
    [800, "臉紅紅 x StarWolrd <心機女傭> 陪妳耍心機，拿獎品"],
    [838, "悲傷時，請勿性交：別用濫交報復分手的痛"],
    [843, "八個問題讓妳第一次約會就看透他的心"],
    [934, "不回應，你的激情"],
    [1005, "《醉》深夜裡被撕裂的花"],
    [1093, "臉紅網友聊什麼？本週最熱話題"],
    [1104, "女人，妳的性和情慾是由自己決定嗎？"],
    [1120, "我心甘情願，當你的小三"],
    [1126, "聽著，女人不想做垃圾愛！"],
    [1196, "性愛女王說：前戲可不只是為了女人！"],
    [1241, "社會不會說！女人在開始性行為之前應該知道的事"],
    [1266, "【情慾小說】王子的偽裝 1/3"],
    [1284, "【情慾小說】王子的偽裝 2/3"],
    [1297, "【情慾小說】王子的偽裝 3/3"],
    [1298, "我不和有另一半的男人上床的原因"],
    [1303, "情慾文學：戰地春夢 獵鯨女孩"],
    [1308, "男人真心話：愛，就是要讓人感受的到"],
    [1350, "網友經驗談：那話兒粗大勇猛不見得是好事"],
    [1379, "浪子說：女生胸部幾 cup 最適中？"],
    [1380, "情慾文學：交友 app Ashley Madison 奇遇記"],
    [1387, "不隨便的淫蕩"],
    [1403, "生命中曾經但無緣的光亮"],
    [1404, "只有一夜的瘋狂放蕩"],
    [1479, "青春少女的煩惱：妳，貞潔嗎？"],
    [1480, "紅粉知己，一種比前女友更危險的物種"],
    [1481, "分手後，抵擋不了的熟悉激情"],
    [1495, "我的 BL 幻想世界"],
    [1496, "處女情結，銘謝惠顧"],
    [1526, "我們都忘了其實放下也是一種選擇"],
    [1541, "情慾文學：我的異國一夜情"],
    [1574, "不安於室！遠距離見面後的乾柴烈火"],
    [1609, "他不是我的男朋友，也不只是床伴"],
    [1758, "劈腿的人，最愛的其實是自己"],
    [1832, "如果，性愛是一場報復"],
    [1875, "親愛的，我玩完就回來"],
    [1903, "看你從男孩成為男人，值得"],
    [1955, "最好的姐妹，喜歡上同一個男人"],
    [1993, "婚後的一夜情"],
    [2003, "只做愛，不戀愛"],
    [2015, "【girl on girl】第一眼看見妳，我就被深深吸引"],
    [2059, "讓女人更幸福的小秘密：性幻想"],
    [2072, "我們的愛情，留給一根菸"],
    [2111, "愛情沒有完美，只有完整"],
    [2169, "禁忌"],
    [2202, "謝謝你給我的獨家誘惑"],
    [2223, "外遇，就是巧遇的失控"],
    [2309, "你卻說不擁有就不怕失去了"],
    [2734, "負責高潮就好？不管用的飯飯之交守則"],
    [2859, "那個，偷情的夜晚"],
    [2897, "【床伴日記】第一次，下床後不再空虛"],
    [3201, "【床伴日記】我們都害怕再次被愛拋棄"],
    [4242, "妹妹連載：我多麼希望，你不是我的妹妹"],
    [4320, "暗戀心事：A13 桌的你"],
    [4458, "妹妹連載：我想做的，不只是你的哥哥"],
    [4592, "寫給男生的秘密指南：第一次性愛你該避免的五件事"],
    [4693, "失戀 21 天"],
    [4796, "我是女生，我的第一次也是跟女生"],
    [4964, "妹妹連載：那年，我們天真的幸福"],
    [5240, "灰故娘的現代故事：午夜人妻秘戀"],
    [6891, "【臉紅紅 x 女王哈哈愛情殿堂】哪三種男人的電話千萬不能接？"],
    [6906, "每個女人，都是血族 - Sunny"],
    [6966, "Ａ 先生的女王"],
    [8438, "最美妙的情慾感官旅程：年度臉紅紅性愛生活問卷調查！"],
    [8525, "【臉紅羞羞放映室】女生口愛的四大心酸！"],
    [8574, "【臉紅羞羞放映室】伴侶真心話！你該修陰毛的四個原因"],
    [8671, "【臉紅羞羞看短片】男人真心話！幫另一半口交時..."],
    [8800, "【臉紅羞羞看短片】尺寸真的好重要？"],
    [8867, "【臉紅羞羞看短片】要如何當一個好砲友？"],
    [8900, "【臉紅辛辣開講】要說什麼才對？床上最常聽到的淫聲浪語"],
    [8954, "【臉紅辛辣聊天室】每個人都該擁有！最適合自己的陰毛修剪造型"],
    [8989, "【臉紅辛辣聊天室】那些 A 片教錯的事！"],
    [9018, "【臉紅辛辣聊天室】在他心裡，沒說出口的「性癖好」！"],
    [9087, "【臉紅辛辣聊天室】這些「自拍」，竟讓老外想入非非？"],
    [9118, "【臉紅辛辣聊天室】男人要求打分手砲的四個理由"],
    [9281, "嘿，臉紅紅有些話想跟你說"],
    [9337, "【女人聊天室】親愛的，來拍一隻性愛影片吧？"],
    [9382, "從小教你撫摸自己的身體！西方性教育與台灣大不同"],
    [9418, "好濕的夜！春夢與你的狂野性幻想"],
    [9459, "用他加妳 LINE 的方式，看穿他在床上的表現！"],
    [9524, "女上位真的好累？三大性愛姿勢優缺點解析"],
    [9608, "【貓女辛辣聊天室】他總是軟掉，是妳的錯嗎？"],
    [9656, "這樣叫床好催情！做愛時呻吟的基本守則"],
    [9698, "三個常見的「高潮」反應"],
    [9773, "玩「3P」性愛前要注意的事！"],
    [10199, "【鴛鴦鍋系列】後宮也有 CCR：慈禧秘密生活"],
    [10726, "【清粥小菜系列】我罵妳我愛妳：駱賓王對武媚娘的情慾想像"],
    [11564, "【臉紅紅深夜食堂】第一夜：我愛你，我的身體卻不愛你"],
    [11613, "【臉紅紅深夜食堂】第二夜：幻想式性愛"],
    [11665, "【臉紅紅深夜食堂】第三夜：寂寞是一種病嗎？"],
    [11771, "【臉紅電台】不想直接說不要？把這份歌單送給他吧"],
    [16468, "【影片】臉紅小編示範愛滋篩檢五步驟"],
    [16693, "你的意見很重要！臉紅紅網站使用大調查"],
    [19097, "【臉紅來稿】熱情邀請喜歡寫作的妳！"],
  ]

  images = []
  Dir.glob('public/images/lhh-covers/*').each do |path|
    images << MiniMagick::Image.open(path)
  end

  list.each_with_index do |(id, title), i|
    base_image = images[i%13]
    position = 0
    height = 65
    filename = "#{id}.jpg"

    title1, title2 = title.chars.each_slice(19).map(&:join)
    if title2 != nil
      if title.include?("：")
        title1, title2 = title.lines("：")

        if (title2.size > 19) && (id != 1380)
          title1, title2 = title.chars.each_slice(19).map(&:join)
        end
      elsif title.include?(">")
        title1, title2 = title.lines(">")
      elsif title.include?("，")
        array = title.lines("，")
        title2 = array.pop
        title1 = array.join
      elsif title.include?("？")
        title1, title2 = title.lines("？")

        if title1.size > 19
          title1, title2 = title.chars.each_slice(19).map(&:join)
        end
      elsif title.include?("！")
        title1, title2 = title.lines("！")
      elsif (id == 194) || (id == 314)
        title1 = "#{title1}#{title2}"
        title2 = nil
      end

      foldersize = '2'

      if title2.nil?
        draw_text1 = "text 0,#{position + height * 0} '#{title1}'"
      else
        draw_text1 = "text 0,#{position + height * 1} '#{title1}'"
        draw_text2 = "text 0,#{position + height * 0} '#{title2}'"
      end
    else
      foldersize = '1'
      draw_text1 = "text 0,#{position + height * 0} '#{title1}'"
    end

    base_image.write("public/quotes/#{foldersize}/#{filename}")
    image = MiniMagick::Image.open("public/quotes/#{foldersize}/#{filename}")

    image.combine_options do |c|
      c.font "fonts/NotoSansCJKtc-Bold.otf"
      c.weight "700"
      c.pointsize "60"
      c.gravity "SouthEast"

      c.fill "#B22"
      c.undercolor "#FFF"
      c.draw draw_text1
      c.draw draw_text2 if draw_text2
    end

    image.write("public/quotes/#{foldersize}/#{filename}")
  end
end
